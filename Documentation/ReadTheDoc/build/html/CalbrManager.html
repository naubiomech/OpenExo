<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>Calibration Manager Controller &#8212; OpenExo Documentation 0.1-dev documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=75810a84" />
    <link rel="stylesheet" type="text/css" href="_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script src="_static/jquery.js?v=5d32c60e"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="_static/documentation_options.js?v=4f578d93"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Chirp Controller" href="Chirp.html" />
    <link rel="prev" title="Hip" href="hip.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=blue-grey data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#CalbrManager" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="OpenExo Documentation 0.1-dev documentation"
           class="md-header-nav__button md-logo">
          
            &nbsp;
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">OpenExo Documentation 0.1-dev documentation</span>
          <span class="md-header-nav__topic"> Calibration Manager Controller </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">OpenExo Documentation 0.1-dev documentation</a></li>
          <li class="md-tabs__item"><a href="controllers.html" class="md-tabs__link">Controllers</a></li>
          <li class="md-tabs__item"><a href="hip.html" class="md-tabs__link">Hip</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="OpenExo Documentation 0.1-dev documentation" class="md-nav__button md-logo">
      
        <img src="_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="OpenExo Documentation 0.1-dev documentation">OpenExo Documentation 0.1-dev documentation</a>
  </label>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#calbrmanager--page-root" class="md-nav__link">Calibration Manager Controller</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#description" class="md-nav__link">Description</a>
        </li>
        <li class="md-nav__item"><a href="#parameters" class="md-nav__link">Parameters</a>
        </li>
        <li class="md-nav__item"><a href="#purposes" class="md-nav__link">Purposes</a>
        </li>
        <li class="md-nav__item"><a href="#motor-directions" class="md-nav__link">Motor Directions</a>
        </li>
        <li class="md-nav__item"><a href="#torque-sensor-signs-positive-negative" class="md-nav__link">Torque Sensor Signs (Positive/Negative)</a>
        </li>
        <li class="md-nav__item"><a href="#how-to-calibrate" class="md-nav__link">How to Calibrate</a>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/CalbrManager.rst.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="calibration-manager-controller">
<h1 id="calbrmanager--page-root">Calibration Manager Controller<a class="headerlink" href="#calbrmanager--page-root" title="Link to this heading"></a></h1>
<section id="description">
<h2 id="description">Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p>This controller applies a small, constant torque while printing statements of relevance (command value/sign, torque sensor value/sign, angle sensor value/sign) to the Arduino Serial Monitor.</p>
</section>
<section id="parameters">
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<p>There are no user-defined parameters associated with this controller.</p>
</section>
<section id="purposes">
<h2 id="purposes">Purposes<a class="headerlink" href="#purposes" title="Link to this heading"></a></h2>
<p>After you have built an exo, one of the first things to check is the motor directions and the signs (positive/negative) of any external sensors (such as torque or angle sensors). Having correct motor directions is important because it allows the exo controller designers to concentrate solely on control logic—knowing that if the system is calibrated properly before use, the exo assistance will always operate in the intended directions. The same principle applies to the sensors involved in control; since PID control is implemented in many of our controllers, it is crucial that sensor readings match the motor command signs.</p>
<p>This document explains how to perform the calibration using the Calibration Manager Controller. Note that on each exo, this calibration process needs to be done <strong>once</strong>; its results must then be <strong>manually</strong> saved to the SD card and will be loaded <strong>automatically</strong> each time the exo starts up.</p>
</section>
<section id="motor-directions">
<h2 id="motor-directions">Motor Directions<a class="headerlink" href="#motor-directions" title="Link to this heading"></a></h2>
<p>When designing a controller, the values returned by the <code class="docutils literal notranslate"><span class="pre">calc_motor_cmd()</span></code> function determine the motor torque command (feedforward). To simplify the controller design process, we propose that designers adhere to the following directional conventions for torque commands:</p>
<ul class="simple">
<li><p><strong>Ankle joints:</strong>
Positive for Dorsiflexion, negative for Plantarflexion.</p></li>
<li><p><strong>Knee joints:</strong>
Positive for Extension, negative for Flexion.</p></li>
<li><p><strong>Hip joints:</strong>
Positive for Flexion, negative for Extension.</p></li>
<li><p><strong>Shoulder joints:</strong>
Positive for Flexion, negative for Extension.</p></li>
<li><p><strong>Elbow joints:</strong>
Positive for Flexion, negative for Extension.</p></li>
</ul>
<p>In summary, this approach follows the <strong>right-hand rule</strong>.</p>
</section>
<section id="torque-sensor-signs-positive-negative">
<h2 id="torque-sensor-signs-positive-negative">Torque Sensor Signs (Positive/Negative)<a class="headerlink" href="#torque-sensor-signs-positive-negative" title="Link to this heading"></a></h2>
<p>Based on the motor direction definitions above, verify that when the motor supplies a positive torque command, the torque sensors (when properly zeroed) also return a positive value when the motor shaft is not spinning.</p>
</section>
<section id="how-to-calibrate">
<h2 id="how-to-calibrate">How to Calibrate<a class="headerlink" href="#how-to-calibrate" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>Set Up the Controller:</strong>
Set the Direction Calibration Manager as the default controller for the current exo. Connect the Teensy to a computer via USB and open the Arduino Serial Monitor. Also, connect the exo (Arduino Nano) with the Python application. Power on the exo and start a new session. The Calibration Manager will send a positive torque command (3.5 Nm by default) to each motor.</p></li>
<li><p><strong>Check Motor Direction:</strong>
Feel each torque—e.g., by using the foot plates on an ankle exo. If the torque applied (for example, to the left foot plate) does not cause it to rotate in the expected positive direction (refer to the directional definitions above), flip the motor direction for that side. Flipping the motor direction is achieved by modifying the <code class="docutils literal notranslate"><span class="pre">config.ini</span></code> file on the SD card.</p></li>
<li><p><strong>Check Sensor Readings:</strong>
After making any necessary changes to motor directions, restart the calibration process. This time, focus on the sensor readings (e.g., torque, angle) displayed on the Arduino Serial Monitor. For example, feel the motor torque on an ankle exo’s foot plate, then manually move the foot plate back to its neutral position (e.g., 0°). If the corresponding sensor does not return a positive value, flip the sensor direction by modifying the <code class="docutils literal notranslate"><span class="pre">config.ini</span></code> on the microSD card. Repeat this process for all torque sensors as needed.</p></li>
</ol>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="hip.html" title="Hip"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Hip </span>
              </div>
            </a>
          
          
            <a href="Chirp.html" title="Chirp Controller"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> Chirp Controller </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2025, Landon Coonrod, Jack Williams, and Prof. Zach Lerner.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>